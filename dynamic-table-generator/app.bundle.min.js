!function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}a(7),a(8);var n=a(3),o=r(n),i=a(4),l=r(i),d=a(2),u=r(d),c=a(5),f=r(c),s=a(1),h=r(s);a(6),a(9),Node.prototype.insertAfter=function(e){this.parentNode.insertBefore(e,this.nextSibling)};var v=document.body,p=document.querySelector("#chkJSON"),g=document.querySelector("#chkJSONMode"),m=document.querySelector("#wrapMode"),b=document.querySelector("#frmJsonMode"),y=document.querySelector("#tblJSON"),w=document.querySelector("#frmNormalMode"),x=document.querySelector("#frmTBLMakerNormal"),k=document.querySelector("#frmTBLMakerJSON"),C=document.querySelector("#chkHeadCols"),j=document.querySelector("#chkHeadRows"),V=document.querySelector("#txtCntCols"),D=document.querySelector("#txtCntRows"),T=document.querySelector("#txtTBLCaption"),S=(document.querySelector("#lnkHelp"),[]),L="",N=[],O="",_=0,q=0,A=!1,M={caption:"",headRow:!1,headCol:!1,data:[]},B=function(e,t){o.default.generateTemplate(e),O=o.default.getTemplate().replace();var a=document.createElement("div");a.id="containerTBLInfo",a.innerHTML='<div id="containerTBL">\n  '+O+'\n  <br />\n  <button id="btnCollapse" class="btn btn-primary _hidden">\n    <i class="fa fa-compress" aria-hidden="true"></i> 병합\n  </button>\n</div>\n<div id="containerTBLTxt">\n  <section>\n    <h4>HTML Table 태그</h4>\n    <textarea id="htmlTable" cols="50" rows="20" readonly>'+O.replace(/ data-idx-row="\d+" data-idx-col="\d+"/g,"")+'</textarea>\n  </section>\n  <section style="margin-left: 10px">\n    <h4>Table 태그 정보(JSON 모드에서 사용 가능)</h4>\n    <textarea id="json" cols="50" rows="20" readonly>'+JSON.stringify(e,null,2)+"</textarea>\n  </section>\n</div>",t.insertAfter(a)},P=function(e,t,a,r,n,o){var i=h.default.getPositiveLookBehindAhead('data-idx-row="'+r+'" data-idx-col="'+n+'".*',">.","<");N=[],L="",e.innerText=o,M.data[r][n]=o,O=O.replace(i.exec(O)[1],">"+o),t.removeAttribute("readonly"),t.innerHTML=JSON.stringify(M,null,2),t.setAttribute("readonly",""),a.removeAttribute("readonly"),a.innerHTML=O.replace(/ data-idx-row="\d+" data-idx-col="\d+"/g,""),a.setAttribute("readonly","")},R=function(e){e.className=e.className?"":"selected"};g.addEventListener("click",function(){A?(A=!1,b.className="hidden",w.className="",D.focus()):(A=!0,b.className="",w.className="hidden",y.focus()),g.checked=!1,p.childNodes[1].data=A?" 일반 입력 모드로 변경":" JSON 입력 모드로 변경"}),k.addEventListener("submit",function(e){e.preventDefault();var t=document.querySelector("#containerTBLInfo"),a=JSON.parse(y.value);if(!f.default.isValidCaption(a.caption))return alert("caption에는 문자열만 입력해주세요!"),y.focus();if(!f.default.isValidHeaderCell(a.headRow))return alert("headRow에는 true, false 값만 넣어주세요."),y.focus();if(!f.default.isValidHeaderCell(a.headCol))return alert("headRow에는 true, false 값만 넣어주세요."),y.focus();if(f.default.validateData(a.data),!f.default.getObjValidateData().isValid)return alert(""+f.default.getObjValidateData().err+("number"==typeof f.default.getObjValidateData().row?"\n"+f.default.getObjValidateData().row+"행"+("number"==typeof f.default.getObjValidateData().col?", "+f.default.getObjValidateData().col+"열":"")+"을 참고해주세요.":"")),y.focus();if(t){if(!confirm("테이블을 새로 생성하시겠습니까?\n기존에 작업하던 결과는 사라집니다."))return;t.remove()}M=a,B(M,m)}),x.addEventListener("submit",function(e){e.preventDefault();var t=+V.value,a=+D.value,r=document.querySelector("#containerTBLInfo");if(r){if(!confirm("테이블을 새로 생성하시겠습니까?\n기존에 작업하던 결과는 사라집니다."))return;r.remove()}M.caption=T.value,M.headCol=j.checked,M.headRow=C.checked,S=[],o.default.generateData(M,a,t),B(M,m)}),v.addEventListener("click",function(e){var t=e.target;if("TD"!==t.tagName&&"TH"!==t.tagName||(_++,1===_?q=setTimeout(function(){_=0;var e=+t.getAttribute("data-idx-row"),a=+t.getAttribute("data-idx-col"),r=+t.getAttribute("rowspan"),n=+t.getAttribute("colspan"),o=!S.length,i=document.querySelector("#btnCollapse");if(R(t),l.default.toggleCell(S,e,a,r,n),!(o&&S.length===r||o&&S[0].length===n))if(u.default.isRectangle(S)){if(i.className.indexOf("_hidden")===-1)return;i.className=i.className.replace(/_hidden\s*/,"")}else i.className.indexOf("_hidden")===-1&&(i.className+=" _hidden")},400):(clearTimeout(q),_=0,L=e.target.innerText,N=[+e.target.getAttribute("data-idx-row"),+e.target.getAttribute("data-idx-col")],e.target.innerHTML='<input type="text" value="'+e.target.innerText+'" />',e.target.childNodes[0].focus())),"btnCollapse"===e.target.id){var a=S[0].length>1?S[0].length:0,r=S.length>1?S.length:0,n=document.querySelector("#containerTBLInfo");u.default.collapseCell(M.data,S,a,r),n.remove(),S=[],B(M,m)}}),v.addEventListener("keydown",function(e){var t=N[0],a=N[1],r=document.querySelector('[data-idx-col="'+a+'"][data-idx-row="'+t+'"]'),n=document.querySelector("#json"),o=document.querySelector("#htmlTable");if(N.length){var i=r.childNodes[0].value;"Enter"===e.code&&P(r,n,o,t,a,i),"Escape"===e.code&&confirm("저장하지 않은 정보는 날아갑니다.\n수정을 취소하시겠습니까?")&&(r.innerHTML=L)}}),D.focus()},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=function(){function e(){a(this,e)}return r(e,null,[{key:"getPositiveLookBehindAhead",value:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new RegExp(e+"("+t+"+)(?="+a+")",r)}},{key:"a",value:function(){alert("b")}}]),e}();t.default=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),i=a(1),l=r(i),d=function(){function e(){n(this,e)}return o(e,null,[{key:"isRectangle",value:function(e){var t=e.length,a=e[0];if(a){a=e[0].length;for(var r=0;r<t;r++){var n=e[r].length;if(a!==e[r].length)return;if(r<t-1){if(+e[r][0][0]+1!==+e[r+1][0][0])return;if(e[r][0][1]!==e[r+1][0][1])return}for(var o=0;o<n-1;o++)if(+e[r][o][1]+1!==+e[r][o+1][1])return}if(1!==t||1!==e[0].length)return!0}}},{key:"collapseCell",value:function(e,t,a,r){for(var n=0;n<(r||1);n++)for(var o=0;o<(a||1);o++){var i=t[n][o][0],d=t[n][o][1];if(n||o)e[i][d]="%collapsedCell%";else{var u=l.default.getPositiveLookBehindAhead("%",".",":\\d+,\\d+");if(u.exec(e[i][d])){var c=u.exec(e[i][d])[1];e[i][d]="%"+c+":"+(a===e[0].length?0:r)+","+a+"%";continue}e[i][d]="%"+e[i][d]+":"+(a===e[0].length?0:r)+","+a+"%"}}for(var f=0;f<e.length;f++){for(var s=!1,h=0;h<e[f].length;h++){if("%collapsedCell%"!==e[f][h]){s=!1;break}s=!0}s&&e.splice(f--,1)}}}]),e}();t.default=d},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),i=a(1),l=r(i),d=function(){function e(){n(this,e)}return o(e,null,[{key:"generateData",value:function(e,t,a){e.data=[];for(var r=0;r<t;r++){e.data.push([]);for(var n=0;n<a;n++)e.data[r].push("sample"+(a*r+n+1))}}},{key:"generateTemplate",value:function(e){var t=e.data.length,a=e.data[0].length,r=/<(th |td )(scope="row" |scope="col" )*data-idx-row="\d+" data-idx-col="\d+">%collapsedCell%<\/(th|td)>\n\s+/g,n=l.default.getPositiveLookBehindAhead('<(th |td )(scope="row" |scope="col" )*data-idx-row="\\d+" data-idx-col="\\d+"',">%.*:\\d+,\\d+%","</(th|td)>"),o=l.default.getPositiveLookBehindAhead('<(th |td )(scope="row" |scope="col" )*data-idx-row="\\d+" data-idx-col="\\d+">%',".",":\\d+,\\d+%</(th|td)>"),i=l.default.getPositiveLookBehindAhead('<(th |td )(scope="row" |scope="col" )*data-idx-row="\\d+" data-idx-col="\\d+">%.+:',"\\d",",\\d+%</(th|td)>"),d=l.default.getPositiveLookBehindAhead('<(th |td )(scope="row" |scope="col" )*data-idx-row="\\d+" data-idx-col="\\d+">%.+:\\d+,',"\\d","%</(th|td)>");if(this.html="<table>\n"+(e.caption?"  <caption>"+e.caption+"</caption>\n":""),this.html+=""+(e.headRow?"  <thead>":"  <tbody>"),e.headRow){this.html+="\n    <tr>";for(var u=0;u<a;u++)this.html+='\n      <th scope="col" data-idx-row="0" data-idx-col="'+u+'">'+e.data[0][u]+"</th>";this.html+="\n    </tr>\n  </thead>\n  <tbody>"}for(var c=0;c<t;c++)if(!e.headRow||c){this.html+="\n    <tr>";for(var f=0;f<a;f++)e.headCol&&!f?this.html+='\n      <th scope="row" data-idx-row="'+c+'" data-idx-col="'+f+'">'+e.data[c][f]+"</th>":this.html+='\n      <td data-idx-row="'+c+'" data-idx-col="'+f+'">'+e.data[c][f]+"</td>";this.html+="\n    </tr>"}for(this.html+="\n  </tbody>\n</table>",this.html=this.html.replace(r,""),this.html=this.html.replace(/\s{6}<\/tr>/g,"    </tr>");n.exec(this.html);)this.html=this.html.replace(n.exec(this.html)[3],' rowspan="'+i.exec(this.html)[3]+'" colspan="'+d.exec(this.html)[3]+'">'+o.exec(this.html)[3]);this.html=this.html.replace(/rowspan="0" /g,""),this.html=this.html.replace(/ colspan="0"/g,"")}},{key:"getTemplate",value:function(){return this.html}}]),e}();t.default=d},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),n=function(){function e(){a(this,e)}return r(e,null,[{key:"hasCell",value:function(e,t,a){var r=e.length;if(!r)return!1;for(var n=0;n<r;n++)for(var o=e[n].length,i=0;i<o;i++)if(e[n][i][0]===t&&e[n][i][1]===a)return!0;return!1}},{key:"pushCell",value:function(e,t,a,r,n){var o=e.length,i=!1;if(!o){if(r){if(n){for(var l=0;l<r;l++){e.push([]);for(var d=0;d<n;d++)e[l].push([t+l,a+d])}return}for(var u=0;u<r;u++)e.push([]),e[u].push([t+u,a]);return}if(n){e.push([]);for(var c=0;c<n;c++)e[0].push([t,a+c]);return}return e.push([[t,a]])}if(t>e[o-1][0][0]){if(r){if(n){for(var f=0;f<r;f++){e.push([]);for(var s=0;s<n;s++)e[o].push([t+f,a+s]);o++}return}for(var h=0;h<r;h++)e.push([[t+h,a]]);return}if(n){e.push([]);for(var v=0;v<n;v++)e[o].push([t,a+v]);return}e.push([[t,a]])}else{if(r){if(n){for(var p=0;p<r;p++){for(var g=0;g<o;g++)if(i=!1,e[g][0][0]===t+p){i=!0;for(var m=0;m<n;m++)e[g].push([t+p,a+m]);break}if(!i){e.unshift([]);for(var b=0;b<n;b++)e[0].push([t+p,a+b]);o++}}return}for(var y=0;y<r;y++){for(var w=0;w<o;w++)if(i=!1,e[w][0][0]===t+y){i=!0,e[w].push([t+y,a]);break}i||(e.unshift([[t+y,a]]),o++)}return}if(n){for(var x=0;x<o;x++)if(e[x][0][0]===t){for(var k=0;k<n;k++)e[x].push([t,a+k]);return}e.unshift([]);for(var C=0;C<n;C++)e[0].push([t,a+C]);return}for(var j=0;j<o;j++)if(e[j][0][0]===t)return e[j].push([t,a]);e.push([[t,a]])}}},{key:"shiftCell",value:function(e,t,a,r,n){var o=e.length;if(r){if(n){for(var i=0;i<r;i++)for(var l=0;l<n;l++)for(var d=0;d<o;d++)for(var u=e[d].length,c=0;c<u;c++)if(e[d][c][0]===t+i&&e[d][c][1]===a+l){e[d].splice(c--,1),1===u&&(e.splice(d--,1),o--);break}return}for(var f=0;f<r;f++)for(var s=0;s<o;s++)for(var h=e[s].length,v=0;v<h;v++)if(e[s][v][0]===t+f&&e[s][v][1]===a){e[s].splice(v--,1),1===h&&(e.splice(s--,1),o--);break}}else if(n){for(var p=0;p<n;p++)for(var g=0;g<o;g++)for(var m=e[g].length,b=0;b<m;b++)if(e[g][b][0]===t&&e[g][b][1]===a+p){e[g].splice(b--,1),1===m&&(e.splice(g--,1),o--);break}}else for(var y=0;y<o;y++)for(var w=e[y].length,x=0;x<w;x++)if(e[y][x][0]===t&&e[y][x][1]===a)return e[y].splice(x,1),1===w?e.splice(y,1):0}},{key:"sortCols",value:function(e){var t=e.length;if(1!==t)for(var a=0;a<t-1;a++)for(var r=a+1;r<t;r++)if(e[a][0][0]>e[r][0][0]){var n=[e[r],e[a]];e[a]=n[0],e[r]=n[1]}}},{key:"sortRows",value:function(e){for(var t=e.length,a=0;a<t;a++){var r=e[a].length;if(1!==r)for(var n=0;n<r-1;n++)for(var o=n+1;o<r;o++)if(e[a][n][1]>e[a][o][1]){var i=[e[a][o][1],e[a][n][1]];e[a][n][1]=i[0],e[a][o][1]=i[1]}}}},{key:"toggleCell",value:function(e,t,a,r,n){this.hasCell(e,t,a)?this.shiftCell(e,t,a,r,n):(this.pushCell(e,t,a,r,n),this.sortRows(e),this.sortCols(e))}}]),e}();t.default=n},function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),i=a(1),l=r(i),d=function(){function e(){n(this,e)}return o(e,null,[{key:"isValidCaption",value:function(e){return"string"==typeof e}},{key:"isValidHeaderCell",value:function(e){return"boolean"==typeof e}},{key:"validateData",value:function(e){this.objValidateData={isValid:!1,err:"",row:void 0,col:void 0};for(var t=l.default.getPositiveLookBehindAhead("%.+:","\\d",",\\d+%"),a=l.default.getPositiveLookBehindAhead("%.+:\\d+,","\\d","%"),r=0;r<e.length;r++){if(e[r].length!==e[0].length)return this.objValidateData.err="각 행의 길이가 다름.",void(this.objValidateData.row=r);for(var n=0;n<e[r].length;n++){var o=t.exec(e[r][n]),i=a.exec(e[r][n]);if(o&&+o[1]){if(i&&+i[1])for(var d=0;d<o[1];d++){for(var u=0;u<i[1];u++)if((d||u)&&"%collapsedCell%"!==e[r+d][n+u])return this.objValidateData.err="해당 셀이 병합되지 않았습니다.",this.objValidateData.row=r+d,void(this.objValidateData.col=n+u);if(+i[1]+n!==e[0].length&&"%collapsedCell%"===e[r+d][+i[1]+n])return this.objValidateData.err="해당 셀은 병합 대상이 아닙니다.",this.objValidateData.row=r+d,void(this.objValidateData.col=+i[1]+n)}for(var c=1;c<o[1];c++)if("%collapsedCell%"!==e[r+c][n])return this.objValidateData.err="병합할 행보다 더 적은 행이 병합돼있습니다.",this.objValidateData.row=r+c,void(this.objValidateData.col=n);if(+o[1]+r!==e.length&&"%collapsedCell%"===e[+o[1]+r][n])return this.objValidateData.err="병합할 행보다 더 많은 행이 병합돼있습니다.",this.objValidateData.row=+o[1]+r,void(this.objValidateData.col=n)}else if(i&&+i[1]){for(var f=1;f<i[1];f++)if("%collapsedCell%"!==e[r][n+f])return this.objValidateData.err="병합할 열보다 더 적은 열이 병합돼있습니다.",this.objValidateData.row=r,void(this.objValidateData.col=n+f);if(+i[1]+n!==e[0].length&&"%collapsedCell%"===e[r][+i[1]+n])return this.objValidateData.err="병합할 열보다 더 많은 열이 병합돼있습니다.",this.objValidateData.row=r,void(this.objValidateData.col=+i[1]+n)}}}this.objValidateData.isValid=!0}},{key:"getObjValidateData",value:function(){return this.objValidateData}}]),e}();t.default=d},function(e,t){},function(e,t){},function(e,t){},function(e,t,a){e.exports=a.p+"logo.png"}]);